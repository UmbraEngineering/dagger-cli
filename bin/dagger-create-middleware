#!/usr/bin/env node

require('../lib/utils');

var program = require('commander');

program
	.usage('<name> [options]')
	.parse(process.argv);

var name = program.args[0];

output('Creating new middleware "' + name + '"...');

var data = {
	name: {
		hyphen: name,
		camel: name.replace(/-([a-z])/g, function(match, letter) {
			return letter.toUpperCase();
		}),
		class: name.replace(/(^|-)([a-z])/g, function(match, start, letter) {
			return letter.toUpperCase();
		})
	}
};

renderFromTemplate('middleware/template.js', 'middleware/' + data.nameHyphen + '.js', data);

output(' Done.\n');
